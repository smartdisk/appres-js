/*
 AppRes JavaScript Library v0.0.32
 https://appres.org/

 Copyright 2021 APPRES.ORG and other contributors
 Released under the MIT license
 https://appres.org/license

 Create Date: 2021.02.07 KST
 Last Update: 2021.03.04 KST
*/
null==window.globalThis&&(window.globalThis=window);
(function(p){function H(a){a.APPRES=new h(a,a.onAppResOptions());a.APPRES.self(a.APPRES);a.$$=a.APPRES.$$;a.$S=a.$$().$S();a.$T=a.$$().$T();a.$Q=a.$$().$Q();a.$F=a.$$().$F}var d={host:"https://appres.org/functions/api",pkey:"GXYqIgrafjTRatwTB96d",akey:"39f031e6-94a0-4e14-b600-82779ec899d7",cmd:"string-dict",target:"js",skey:"default",lang:"ja-JP",retry:50,time:25,cache:!0,visibility:"hidden",title_trans:!0,langs_all:!1,langs_selector:{langs:".appres-langs",langs_button:".appres-langs-button",langs_button_color:"black",
langs_items:".appres-langs-items",style:{button:"auto"}},default_excepts:["material-icons","mat-tab-group"],user_excepts:[],onReady:null,onLanguageChange:null,onMakeLangsSelector:null},M=function(a,b,c){var e=a.document.createElement("script");e.type="text/javascript";e.onload=function(){c&&c()};e.src=b;a.document.getElementsByTagName("head")[0].appendChild(e)},N=function(a){var b=a.className.split(" ");for(i=0;i<d.default_excepts.length;i++)if(0<=b.indexOf(d.default_excepts[i]))return!0;for(i=0;i<
d.user_excepts.length;i++)if(0<=b.indexOf(d.default_excepts[i]))return!0;return a.id&&(0<=d.default_excepts.indexOf(a.id)||0<=d.user_excepts.indexOf(a.id))?!0:!1},u=function(a,b){if(b){if(null!=a.textContent)return a.textContent=b,a.textContent;if(null!=a.innerText)return a.innerText=b,a.innerText}else{if(a.textContent)return a.textContent;if(a.innerText)return a.innerText}return null},l=function(a,b,c){c&&a.setAttribute(b,c);return a.getAttribute(b)},A=function(a){if(null==a)return null;if("object"===
typeof a){var b=a[d.lang];""==b&&(b=a["default"]);a=b}return a},x=function(a,b){var c=null;"string"===typeof a&&(b=a,a=g);if("string"===typeof b)return a.APPRES_STRINGS&&a.APPRES_DICTS?c=a.APPRES_STRINGS[b]||a.APPRES_DICTS[b]:a.APPRES_STRINGS?c=a.APPRES_STRINGS[b]:a.APPRES_DICTS&&(c=a.APPRES_DICTS[b]),A(c)||b;a.APPRES_DICTS&&b.hasAttribute("dict")&&(c=a.APPRES_DICTS[b.getAttribute("dict")]);var e=u(b);null==c&&a.APPRES_STRINGS&&(b.hasAttribute("string")?c=a.APPRES_STRINGS[b.getAttribute("string")]:
null!=e&&(c=a.APPRES_STRINGS[e])&&b.setAttribute("string",e));c?c=A(c):a.APPRES_STRINGS?console.log("AppRes:"+d.lang+":"+e):console.log("AppRes:"+d.lang+":"+e+" (Not found APPRES_STRINGS!!!)");return c},O=function(a,b,c){var e=null,f=l(b,c);a.APPRES_STRINGS&&(b.hasAttribute("appres-"+c)?e=a.APPRES_STRINGS[b.getAttribute("appres-"+c)]:null!=f&&(b.setAttribute("appres-"+c,f),e=a.APPRES_STRINGS[f]));e?e=A(e):a.APPRES_STRINGS?console.log("AppRes:"+d.lang+":"+f):console.log("AppRes:"+d.lang+":"+f+" (Not found APPRES_STRINGS!!!)");
return e},I=function(a,b,c,e){if(a.APPRES_STRINGS){if(l(b,"appres-lang")!=d.lang&&(1==b.childNodes.length&&null!=u(b)&&(N(b)||u(b,x(a,b)||u(b))),l(b,"title")&&l(b,"title",O(a,b,"title")||l(b,"title")),a.onChangedAppRes))a.onChangedAppRes(b,!0);e&&e(!0)}else if(c>=d.retry){if(a.onChangedAppRes)a.onChangedAppRes(b,!1);e&&e(!1)}else setTimeout(function(){I(a,b,++c,e)},d.time)},y=function(a,b,c){for(var e=0,f,k;;)try{if(e)for(a.localStorage.setItem(b,"--"+e),k=Math.ceil(c/e),f=0;f<e;f++)a.localStorage.setItem(b+
"::"+f,c.substr(f*k,k));else a.localStorage.setItem(b,c);break}catch(m){e++}},v=function(a,b){var c=a.localStorage.getItem(b);if(c&&"--"==c.substr(0,2)){var e="";var f=0;for(c=parseInt(c.substr(2));f<c;f++)e+=a.localStorage.getItem(b+"::"+f);c=e}return c},z=function(a,b){var c=a.localStorage.getItem(b),e;if(c&&"--"==c.substr(0,2)){var f=0;for(e=parseInt(c.substr(2));f<e;f++)a.localStorage.removeItem(b+"::"+f)}c&&a.localStorage.removeItem(b)},B=function(a){z(a,"appres.ver");z(a,"appres.url");z(a,"appres.langs");
z(a,"appres.strings")},P=function(a,b,c){a=v(a,b);return c==a},n=function(a,b){return"object"==typeof b?[b]:null==a?[]:a.document.querySelectorAll(b)},r=function(a,b){b.startsWith(".")&&(b=b.substring(1));-1==a.className.split(" ").indexOf(b)&&(a.className+=" "+b)},J=function(a,b){b.startsWith(".")&&(b=b.substring(1));var c=a.className.split(" "),e=c.indexOf(b);0<=e&&c.splice(e,1);a.className=c.join(" ")},C=function(a){a=n(a,d.langs_selector.langs);return 0<a.length?a[0]:null},D=function(a){a=n(a,
d.langs_selector.langs_button);return 0<a.length?a[0]:null},w=function(a){a=n(a,d.langs_selector.langs_items);return 0<a.length?a[0]:null},R=function(a){var b=w(a);if(b)if("none"==(b.currentStyle?b.currentStyle.display:a.getComputedStyle(b,null).display)){E(a);var c=Q(a);b.setAttribute("style","display:block");c&&setTimeout(function(){w(a).scrollTo(0,c.offsetTop)},0)}else E(a)},E=function(a){if(a=w(a)){for(;a.firstChild;)a.removeChild(a.lastChild);a.setAttribute("style","display:none")}},Q=function(a){var b=
null,c=w(a);c&&Object.keys(a.APPRES_LANGS).forEach(function(e){var f=a.APPRES_LANGS[e],k=document.createElement("div");k.id=e;d.lang==e&&(k.className="selected",b=k);u(k,f);c.appendChild(k);k.onclick=function(m){m=m.target.id;if(m!=d.lang)if(c.setAttribute("style","display:none"),d.lang=m,y(a,"appres.lang",d.lang),F(a),1==d.langs_all){t(a);d.title_trans&&G(a);if(d.onLanguageChange)d.onLanguageChange();(m=D(a))&&m.blur&&m.blur()}else a.location.reload()}});return b},S=function(a){var b=C(a);if(b){if(d.onMakeLangsSelector&&
1==d.onMakeLangsSelector(b))return b;var c=a.document.createElement("button");r(c,d.langs_selector.langs_button);r(c,d.langs_selector.langs_button+"-"+d.langs_selector.langs_button_color);b.appendChild(c);a=a.document.createElement("div");r(a,d.langs_selector.langs_items);b.appendChild(a)}return b},F=function(a){var b=D(a);null==b&&null!=C(a)&&(S(a),b=D(a));if(null!=b&&b){if("auto"!=d.langs_selector.style.button){r(b,d.langs_selector.langs_button+"-"+d.langs_selector.style.button);var c=w(a);r(c,
d.langs_selector.langs_items+"-"+d.langs_selector.style.button)}c=a.APPRES_LANGS[d.lang];c||(d.lang=a.navigator.language||a.navigator.userLanguage,c=a.APPRES_LANGS[d.lang]);c||(d.lang="en-US",c=a.APPRES_LANGS[d.lang],c||(d.lang=Object.keys(a.APPRES_LANGS)[0],c=a.APPRES_LANGS[d.lang]));c&&(u(b,c),(c=C(a))&&c.setAttribute("style","display:block"));b.onclick=function(e){R(a)};b.onblur=function(e){setTimeout(function(){E(a)},300)}}},G=function(a){null==a.appres_title&&(a.appres_title=a.document.title);
a.document.title=x(a.appres_title)},t=function(a,b){(null==b?n(a,".appres"):n(a,".appres "+b)).forEach(function(c){I(a,c,0,function(e){var f=l(c,"appres-lang");e&&null==f?("hidden"==d.visibility&&c.setAttribute("style","visibility:visible"),l(c,"appres-lang",d.lang)):e&&f!=d.lang&&l(c,"appres-lang",d.lang)})})},T=function(a){n(a,".appres").forEach(function(b){b.setAttribute("style","visibility:hidden")})},U=function(a){a[0]=x(a[0]);return a[0].replace(/{(\d+)}/g,function(b,c){c=Number(c)+1;return a[c]})},
q=null,g=p,h=function(a,b){g=a;d.lang=v(g,"appres.lang");null==d.lang&&(d.lang=g.navigator.language||g.navigator.userLanguage);b&&(b.host&&(d.host=b.host),b.pkey&&(d.pkey=b.pkey),b.akey&&(d.akey=b.akey),b.cmd&&(d.cmd=b.cmd),b.target&&(d.target=b.target),b.skey&&(d.skey=b.skey),b.lang&&(d.lang=b.lang),null!=b.langs_all&&(d.langs_all=b.langs_all),null!=b.title_trans&&(d.title_trans=b.title_trans),null!=b.retry&&(d.retry=b.retry),null!=b.time&&(d.time=b.time),null!=b.cache&&(d.cache=b.cache),null!=b.visibility&&
(d.visibility=b.visibility),null!=b.excepts&&(d.user_excepts=b.excepts),null!=b.langs_selector&&(null!=b.langs_selector.langs_button_color&&(d.langs_selector.langs_button_color=b.langs_selector.langs_button_color),null!=b.langs_selector.style&&null!=b.langs_selector.style.button&&(d.langs_selector.style.button=b.langs_selector.style.button)),null!=b.onReady&&(d.onReady=b.onReady),null!=b.onLanguageChange&&(d.onLanguageChange=b.onLanguageChange),null!=b.onMakeLangsSelector&&(d.onMakeLangsSelector=
b.onMakeLangsSelector));"hidden"==d.visibility&&T(g);var c=v(g,"appres.ver")||0,e=d.host+"?pkey="+d.pkey+"&akey="+d.akey+"&cmd="+d.cmd+"&target="+d.target+"&skey="+d.skey;1!=d.langs_all&&(e+="&lang="+d.lang);e+="&ver="+c;(0==c||0==d.cache||d.cache&&!P(g,"appres.url",e))&&B(g);c=null;if(d.cache&&(c=v(g,"appres.langs")))try{var f=JSON.parse(c),k=Object.keys(f).length;0<k?(g.APPRES_LANGS=f,c=!0):c=!1}catch(V){B(g),c=null}f=null;if(d.cache&&(f=v(g,"appres.strings")))try{var m=JSON.parse(f);k=Object.keys(m).length;
0<k?(g.APPRES_STRINGS=m,f=!0):f=!1}catch(V){B(g),f=null}if(d.cache&&1==c&&1==f){if(console.log("AppRes: Loaded app string from cached"),F(g),t(g),d.title_trans&&G(g),d.onReady)d.onReady()}else M(g,e,function(){console.log("AppRes: Loaded app string from appres url");d.cache&&(y(g,"appres.url",e),y(g,"appres.langs",JSON.stringify(a.APPRES_LANGS)),y(g,"appres.strings",JSON.stringify(a.APPRES_STRINGS)));F(g);t(g);d.title_trans&&G(g);if(d.onReady)d.onReady()})};h.prototype.self=function(a){a&&(q=a);return q};
h.prototype.appString=function(a,b){return x(g,a,b)};h.prototype.ready=function(a,b,c){if(a)if(null!=p.APPRES_STRINGS)a(!0);else{null==b&&(b=100);10>b&&(b=10);null==c&&(c=100);10>c&&(c=10);var e=0,f=setInterval(function(){null!=p.APPRES_STRINGS?(clearInterval(f),a(!0)):(e++,e>c&&(clearInterval(f),a(!1)))},b)}return null!=p.APPRES_STRINGS};h.prototype.appTranslate=function(a,b,c){null!=a&&"string"===typeof a&&(null!=b&&"number"===typeof b&&(c=b),b=a,a=null);if(null!=b&&"string"===typeof b){if(null!=
c&&"number"===typeof c){setTimeout(function(){t(a||g,b)},c);return}return t(a||g,b)}"number"===typeof a&&(b=a,a=null);if(null!=b&&"number"===typeof b)setTimeout(function(){return t(a||g)},b);else return t(a||g)};h.prototype.appSelect=function(a,b){null!=a&&"string"===typeof a&&(b=a,a=g);return n(a,b)};h.prototype.appStyle=function(a,b,c){if(a!=g&&"object"===typeof a&&"string"===typeof b)return b&&l(a,"style",b),l(a,"style");null!=a&&"string"===typeof a&&(c=b,b=a,a=g);a=n(a,b);c&&a.forEach(function(f){l(f,
"style",c)});var e=[];a.forEach(function(f){e.push(l(f,"style"))});return e};h.prototype.appRemoveClass=function(a,b,c){a!=g&&"object"===typeof a&&"string"===typeof b?J(a,b):(null!=a&&"string"===typeof a&&(c=b,b=a,a=g),n(a,b).forEach(function(e){J(e,c)}))};h.prototype.appAddClass=function(a,b,c){a!=g&&"object"===typeof a&&"string"===typeof b?r(a,b):(null!=a&&"string"===typeof a&&(c=b,b=a,a=g),n(a,b).forEach(function(e){r(e,c)}))};h.prototype.appPosition=function(a,b){var c;a:{var e=a,f=b,k=c=0;null==
f&&(f=e,e=g);if("string"==typeof f)if(e=n(e,f),0<e.length)f=e[0];else{c=[k,c];break a}if(f.offsetParent){do c+=f.offsetTop,k+=f.offsetLeft;while(f=f.offsetParent)}c=[k,c]}return c};h.prototype.appOptions=function(a,b){if(a&&"object"==typeof a)d=a;else if(a&&"string"==typeof a&&b)d[a]=b;else if(a&&"string"==typeof a&&null==b)return d[a];return d};h.prototype.$$=function(a,b,c){if(a&&"string"===typeof a)return q.appString(a);a!=p&&a!=g||q.appTranslate(a,b,c);return q};h.prototype.$S=function(){return q.appString};
h.prototype.$T=function(){return q.appTranslate};h.prototype.$Q=function(){return q.appSelect};h.prototype.$F=function(){return U(arguments)};p.AppRes=h;"function"===typeof define&&define.amd&&define.amd.AppRes&&define("appres",[],function(){return h});if(document.addEventListener){var K=function(){document.removeEventListener("DOMContentLoaded",K,!1);p.onAppResOptions?setTimeout(function(){H(p)},0):console.log("AppRes: Required onAppResOptions() function !!!")};document.addEventListener("DOMContentLoaded",
K,!1)}else if(document.attachEvent){var L=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",L),p.onAppResOptions?setTimeout(function(){H(p)},0):console.log("AppRes: Required onAppResOptions() function !!!"))};document.attachEvent("onreadystatechange",L)}})(window);